scripted_gui = {
	TNOX_Voronezh_GUI_Corruption = {
		context_type = decision_category
		window_name = "TNOX_Voronezh_GUI_Corruption"
		parent_window_token = "VNH_Corruption_category"
		properties = {
			VNH_Corruption_control_bar = {
				frame = VNH_Corruption_Value
			}
		}
	}
	
	TNOX_Voronezh_GUI_Anger = {
		context_type = decision_category
		window_name = "TNOX_Voronezh_GUI_Anger"
		parent_window_token = "VNH_Anger_category"
		properties = {
			VNH_Anger_control_bar = {
				frame = VNH_Anger_Value
			}
		}
	}
	TNOX_Voronezh_Council_GUI_open = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "TNOX_Voronezh_Council_GUI_open_window"

		visible = {
			tag = VNH
		}

		effects = {
			TNOX_Voronezh_Council_GUI_open_button_click = {
				if = {
					limit = { NOT = { has_country_flag = VNH_Council_GUI_open } }
					set_country_flag = VNH_Council_GUI_open
				}
				else_if = {
					limit = { has_country_flag = VNH_Council_GUI_open }
					clr_country_flag = VNH_Council_GUI_open
					clr_country_flag = VNH_Auth_Dem_Window_Open
					clr_country_flag = VNH_Con_Dem_Window_Open
					clr_country_flag = VNH_Soc_Dem_Window_Open
					clr_country_flag = VNH_Lib_Dem_Window_Open
				}
				clr_country_flag = gui_alert_visible
			}
		}

        triggers = {
            gui_alert_visible = {
                has_country_flag = gui_alert_visible
            }
        }
	}
	TNOX_Voronezh_council_GUI = {
		context_type = player_context
		parent_window_token = TNOX_Voronezh_Council_GUI_open_window
		window_name = "TNOX_Voronezh_council_GUI_window"

		visible = {
			has_country_flag = VNH_Council_GUI_open
		}

		effects = {

			VNH_Council_GUI_Soc_Dem_Button_click = {		#Mark Lib
				set_country_flag = VNH_Mark_Lib_Window_Open
				clr_country_flag = VNH_Con_Dem_Window_Open
				clr_country_flag = VNH_Auth_Dem_Window_Open
				clr_country_flag = VNH_Lib_Dem_Window_Open
			}
			VNH_Council_GUI_Lib_Dem_Button_click = {		#Lib Dem
				set_country_flag = VNH_Lib_Dem_Window_Open
				clr_country_flag = VNH_Con_Dem_Window_Open
				clr_country_flag = VNH_Auth_Dem_Window_Open
				clr_country_flag = VNH_Mark_Lib_Window_Open
			}
			VNH_Council_GUI_Con_Dem_Button_click = {		#Con Dem
				set_country_flag = VNH_Con_Dem_Window_Open
				clr_country_flag = VNH_Auth_Dem_Window_Open
				clr_country_flag = VNH_Lib_Dem_Window_Open
				clr_country_flag = VNH_Mark_Lib_Window_Open
			}
			VNH_Council_GUI_Auth_Dem_Button_click = {		#Auth Dem
				set_country_flag = VNH_Auth_Dem_Window_Open
				clr_country_flag = VNH_Con_Dem_Window_Open
				clr_country_flag = VNH_Mark_Lib_Window_Open
				clr_country_flag = VNH_Lib_Dem_Window_Open
			}
			TNOx_VNH_Council_Close_button_click = {
				clr_country_flag = VNH_Council_GUI_open
				clr_country_flag = VNH_Auth_Dem_Window_Open
				clr_country_flag = VNH_Con_Dem_Window_Open
				clr_country_flag = VNH_Mark_Lib_Window_Open
				clr_country_flag = VNH_Lib_Dem_Window_Open
			}
		}
		dynamic_lists = {
			VNH_Council_Diagram_Container = {
				array = X_VNH_Council
				change_scope = no
				entry_container = VNH_Council_Seat_Container
				index = seat_idx
			}
		}

		properties = {
			VNH_Icon_Gui = {
				x = X_VNH_Council^seat_idx
				y = Y_VNH_Council^seat_idx
				frame = VNH_Council_Array_Frame^seat_idx
			}
		}
	}
	
	TNOX_Voronezh_GUI_mark_lib_Council = {
		context_type = player_context
		window_name = "TNOX_Voronezh_GUI_mark_lib_Council"
		parent_window_token = "TNOX_Voronezh_council_GUI_window"
		visible = {
			has_country_flag = VNH_mark_lib_Window_Open
		}
		effects = {

			VNH_Council_GUI_Soc_Dem_Bribe_Button_click = {		
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}		
				add_to_variable = {
					var = VNH_mark_lib_support
					value = 10
				}	
				add_political_power = -20
			}
			
			VNH_Council_GUI_mark_lib_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_mark_lib_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_mark_lib_power
					value = -20
				}	
				add_political_power = -50
				
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}	
			}
			
			VNH_Council_GUI_mark_lib_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_mark_lib_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_mark_lib_power
					value = -20
				}	
				add_political_power = -50
			}
			
			VNH_Council_GUI_mark_lib_Praise_Button_click = {		
				add_to_variable = {
					var = VNH_mark_lib_support
					value = 5
				}		
				add_to_variable = {
					var = VNH_Anger_Value
					value = 10
				}	
				add_political_power = -50
			}
			TNOx_VNH_Soc_Close_button_click = {
				clr_country_flag = VNH_mark_lib_Window_Open
			}
		
		}
		
        triggers = {
            VNH_Council_GUI_mark_lib_Bribe_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				has_political_power > 20
				NOT = {
					has_government = market_liberal
				}
            }
            VNH_Council_GUI_mark_lib_Make_Concessions_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = market_liberal
				}
				has_political_power > 50
            }
           VNH_Council_GUI_mark_lib_Suppress_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = market_liberal
				}
				has_political_power > 50
            }
           VNH_Council_GUI_mark_lib_Praise_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = market_liberal
				}
				has_political_power > 50
            }
        }
	}
	TNOX_Voronezh_GUI_Lib_Dem_Council = {
		context_type = player_context
		window_name = "TNOX_Voronezh_GUI_Lib_Dem_Council"
		parent_window_token = "TNOX_Voronezh_council_GUI_window"
		visible = {
			has_country_flag = VNH_Lib_Dem_Window_Open
		}
		effects = {

			VNH_Council_GUI_Lib_Dem_Bribe_Button_click = {		
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}		
				add_to_variable = {
					var = VNH_Lib_dem_support
					value = 10
				}	
				add_political_power = -20
			}
			
			VNH_Council_GUI_Lib_Dem_Make_Concessions_Button_click = {		
				add_to_variable = {
					var = VNH_Lib_dem_support
					value = 10
				}		
				add_to_variable = {
					var = VNH_Lib_dem_power
					value = 10
				}	
				add_political_power = -50
			}
			VNH_Council_GUI_Lib_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Lib_dem_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Lib_dem_power
					value = -20
				}	
				add_political_power = -50
				
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}	
			}
			VNH_Council_GUI_Lib_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Lib_dem_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Lib_dem_power
					value = -20
				}	
				add_political_power = -50
			}
			VNH_Council_GUI_Lib_Dem_Praise_Button_click = {		
				add_to_variable = {
					var = VNH_Lib_dem_support
					value = 5
				}		
				add_to_variable = {
					var = VNH_Anger_Value
					value = 10
				}	
				add_political_power = -50
			}
			TNOx_VNH_Lib_Close_button_click = {
				clr_country_flag = VNH_Lib_Dem_Window_Open
			}
	
		}
		
        triggers = {
            VNH_Council_GUI_Lib_Dem_Bribe_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				has_political_power > 20
				NOT = {
					has_government = social_liberal
				}
            }
            VNH_Council_GUI_Lib_Dem_Make_Concessions_Button_click_enabled = {
				NOT = {
					has_government = social_liberal
				}
				has_political_power > 50
				has_country_flag = VNH_Corruption_Mechanic
            }
           VNH_Council_GUI_Lib_Dem_Suppress_Button_click_enabled = {
				NOT = {
					has_government = social_liberal
				}
				has_political_power > 50
				has_country_flag = VNH_Corruption_Mechanic
            }
           VNH_Council_GUI_Lib_Dem_Praise_Button_click_enabled = {
				NOT = {
					has_government = social_liberal
				}
				has_political_power > 50
				has_country_flag = VNH_Corruption_Mechanic
            }
        }
	}
	TNOX_Voronezh_GUI_Con_Dem_Council = {
		context_type = player_context
		window_name = "TNOX_Voronezh_GUI_Con_Dem_Council"
		parent_window_token = "TNOX_Voronezh_council_GUI_window"
		visible = {
			has_country_flag = VNH_Con_Dem_Window_Open
		}
		effects = {

			VNH_Council_GUI_Con_Dem_Bribe_Button_click = {		
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}		
				add_to_variable = {
					var = VNH_Con_dem_support
					value = 10
				}	
				add_political_power = -20
			}
			
			VNH_Council_GUI_Con_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Con_dem_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Con_dem_power
					value = -20
				}	
				add_political_power = -50
				
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}	
			}
			
			VNH_Council_GUI_Con_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Con_dem_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Con_dem_power
					value = -20
				}	
				add_political_power = -50
			}
			
			VNH_Council_GUI_Con_Dem_Praise_Button_click = {		
				add_to_variable = {
					var = VNH_Con_dem_support
					value = 5
				}		
				add_to_variable = {
					var = VNH_Anger_Value
					value = 10
				}	
				add_political_power = -50
			}
			TNOx_VNH_Con_Close_button_click = {
				clr_country_flag = VNH_Con_Dem_Window_Open
			}
		
		}
		
        triggers = {
            VNH_Council_GUI_Con_Dem_Bribe_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				has_political_power > 20
				NOT = {
					has_government = social_conservative
				}
            }
            VNH_Council_GUI_Con_Dem_Make_Concessions_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = social_conservative
				}
				has_political_power > 50
            }
           VNH_Council_GUI_Con_Dem_Suppress_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = social_conservative
				}
				has_political_power > 50
            }
           VNH_Council_GUI_Con_Dem_Praise_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = social_conservative
				}
				has_political_power > 50
            }
        }
	}
	TNOX_Voronezh_GUI_Auth_Dem_Council = {
		context_type = player_context
		window_name = "TNOX_Voronezh_GUI_Auth_Dem_Council"
		parent_window_token = "TNOX_Voronezh_council_GUI_window"
		visible = {
			has_country_flag = VNH_Auth_Dem_Window_Open
		}
		effects = {

			VNH_Council_GUI_Auth_Dem_Bribe_Button_click = {		
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}		
				add_to_variable = {
					var = VNH_Industrialists_support
					value = 10
				}	
				add_political_power = -20
			}
			
			VNH_Council_GUI_Auth_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Industrialists_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Auth_dem_power
					value = -20
				}	
				add_political_power = -50
				
				add_to_variable = {
					var = VNH_Corruption_Value
					value = 5
				}	
			}
			
			VNH_Council_GUI_Auth_Dem_Suppress_Button_click = {		
				add_to_variable = {
					var = VNH_Industrialists_support
					value = -20
				}		
				add_to_variable = {
					var = VNH_Auth_dem_power
					value = -20
				}	
				add_political_power = -50
			}
			
			VNH_Council_GUI_Auth_Dem_Praise_Button_click = {		
				add_to_variable = {
					var = VNH_Industrialists_support
					value = 5
				}		
				add_to_variable = {
					var = VNH_Anger_Value
					value = -10
				}	
				add_political_power = -50
			}
			TNOx_VNH_Auth_Close_button_click = {
				clr_country_flag = VNH_Auth_Dem_Window_Open
			}
		
		}
		
        triggers = {
            VNH_Council_GUI_Auth_Dem_Bribe_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				has_political_power > 20
				NOT = {
					has_government = authoritarian_democrat
				}
            }
            VNH_Council_GUI_Auth_Dem_Make_Concessions_Button_click_enabled = {
                has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = authoritarian_democrat
				}
				has_political_power > 50
            }
           VNH_Council_GUI_Auth_Dem_Suppress_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = authoritarian_democrat
				}
				has_political_power > 50
            }
           VNH_Council_GUI_Auth_Dem_Praise_Button_click_enabled = {
				has_country_flag = VNH_Corruption_Mechanic
				NOT = {
					has_government = authoritarian_democrat
				}
				has_political_power > 50
            }
        }
	}
}